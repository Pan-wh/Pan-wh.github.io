(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{567:function(s,n,e){"use strict";e.r(n);var a=e(7),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"nginx添加https模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx添加https模块"}},[s._v("#")]),s._v(" nginx添加https模块")]),s._v(" "),e("h4",{attrs:{id:"到nginx的解压目录下-是解压目录-不是启动nginx的目录-。跟conf同级有一个configure的执行文件。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#到nginx的解压目录下-是解压目录-不是启动nginx的目录-。跟conf同级有一个configure的执行文件。"}},[s._v("#")]),s._v(" 到Nginx的解压目录下（是解压目录，不是启动Nginx的目录）。跟conf同级有一个configure的执行文件。")]),s._v(" "),e("h4",{attrs:{id:"我们执行它"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我们执行它"}},[s._v("#")]),s._v(" 我们执行它：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("第一步： ./configure --with-http_ssl_module\n第二步：如果报错（SSL modules require the OpenSSL library），执行这个脚本 yum -y install openssl openssl-devel\n第三步：执行 ：./configure\n第四步：执行：./configure --with-http_ssl_module\n第五步：执行：make\n第六步：把原来nginx备份 ：cp /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx_bak（你也可以不备份，最好备份）\n第七步：用新的nginx覆盖旧的 cp objs/nginx /usr/local/nginx/sbin/nginx 如果显示资源被使用（cp: cannot create regular file ‘/usr/local/nginx/sbin/nginx’: Text file busy）所以最好开始的时候把nginx服务关掉。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"将腾讯云把ssl证书下载下来"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将腾讯云把ssl证书下载下来"}},[s._v("#")]),s._v(" 将腾讯云把ssl证书下载下来")]),s._v(" "),e("p",[s._v("将证书放在你的Nginx所在服务器上, 比如我 放在/usr/local/nginx目录下 ==>配置nginx.conf 告诉Nginx证书所在位置")]),s._v(" "),e("p",[s._v("​")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("   server {\n        listen       443 ssl; #https默认端口\n        server_name  www.sourcecoder.cn; #证书绑定的域名\n        \n        ssl_certificate      /usr/local/nginx/3710808_www.sourcecoder.cn.pem; #证书位置\n        ssl_certificate_key  /usr/local/nginx/3710808_www.sourcecoder.cn.key;#证书key位置\n        ssl_session_cache    shared:SSL:1m; \n        ssl_session_timeout  5m;\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;  #加密协议配置\n        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;   #加密套件配置\n        ssl_prefer_server_ciphers  on;#打开\n        \n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n    }\n\n#将80端口的请求转发到443\n server {\n    listen       80;\n    server_name  www.sourcecoder.cn;#填写绑定证书的域名\n    rewrite ^ https://$http_host$request_uri? permanent;    # 将http转到https\n }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br")])]),e("h4",{attrs:{id:"重启nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启nginx"}},[s._v("#")]),s._v(" 重启Nginx")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("/usr/local/nginx/sbin/nginx -t    #检测nginx配置有无报错\n/usr/local/nginx/sbin/nginx -s reload  #重载\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("Valine")],1)}),[],!1,null,null,null);n.default=t.exports}}]);