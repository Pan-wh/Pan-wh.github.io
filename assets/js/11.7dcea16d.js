(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{527:function(s,a,e){s.exports=e.p+"assets/img/zabbix_01.c70739e7.png"},528:function(s,a,e){s.exports=e.p+"assets/img/zabbix_02.4ff73f59.png"},529:function(s,a,e){s.exports=e.p+"assets/img/zabbix_03.84091524.png"},530:function(s,a,e){s.exports=e.p+"assets/img/zabbix_04.f45a8528.png"},569:function(s,a,e){"use strict";e.r(a);var n=e(7),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一、系统调试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、系统调试"}},[s._v("#")]),s._v(" 一、系统调试")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1、关闭SeLinux\n      临时关闭：setenforce 0\n2、临时关闭防火墙\n      systemctl stop firewalld.service\n      永久关闭防火墙\n      systemctl disable firewalld.service             \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"二、安装环境lamp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、安装环境lamp"}},[s._v("#")]),s._v(" 二、安装环境LAMP")]),s._v(" "),n("p",[s._v("LAMP：Linux+Apache+Mysql/MariaDB+Perl/PHP/Python一组常用来搭建动态网站或者服务器的开源软件，本身都是各自独立的程序，但是因为常被放在一起使用，拥有了越来越高的兼容度，共同组成了一个强大的Web应用程序平台。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1、安装apache\n#yum install -y httpd\nhttpd服务开机进行自启\n#systemctl enable httpd\n启动httpd服务\n#systemctl start httpd\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("2、安装mysql\n因为mysql要收费，社区版免费，所以我们安装mariadb\n#yum install -y mariadb mariadb-server\n开机自启动\n#systemctl enable mariadb\n运行服务\n#systemctl start mariadb\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("3、安装php环境\n#yum install -y php php-mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("4、安装zabbix\n下载包\n#rpm -ivh http://repo.zabbix.com/zabbix/3.4/rhel/7/x86_64/zabbix-release-3.4-2.el7.noarch.rpm\n安装zabbix的包\n#yum install -y zabbix-server-mysql zabbix-get zabbix-web zabbix-web-mysql zabbix-agent zabbix-sender\n5.进入数据库\n#mysql\n创建一个zabbix库并设置为utf8的字符编码格式\n#create database zabbix character set utf8 collate utf8_bin;\n创建账户并且授权设置密码\n#grant all privileges on zabbix.* to zabbix@localhost identified by 'zabbix';\n(给来自loclhost的用户zabbxi分配可对数据库zabbix所有表进行所有操作的权限，并且设定密码为zabbix)\n\n6.更新配置使其实时生效\n#flush privileges;\n查看数据库是否创建成功\n#show databases;\n退出\n#quit\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("5、导入表\n#cd /usr/share/doc/zabbix-server-mysql-3.2.10/\n进行解压\n#gunzip create.sql.gz\n进入mysql\n#mysql\n对表进行导入\n#use zabbix;\n#source create.sql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("6、配置zabbix server配置文件\n配置文件目录\nvim /etc/zabbix/zabbix_server.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:e(527),alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('或者通过sed命令配置\n# 配置DBHost\nsed "s/.*DBHost=.*/DBHost=localhost/g" /etc/zabbix/zabbix_server.conf -i\n# 配置DBName\nsed "s/^DBName=.*/DBName=zabbix/g" /etc/zabbix/zabbix_server.conf -i\n# 配置DBUser\nsed "s/^DBUser=.*/DBUser=zabbix/g" /etc/zabbix/zabbix_server.conf -i\n# 配置DBPassword\nsed "s/.*DBPassword=.*/DBPassword=zabbix/g" /etc/zabbix/zabbix_server.conf -i\n# 查看配置更改情况\ncat /etc/zabbix/zabbix_server.conf |grep -E "DBHost=|DBName=|DBUser=|DBPassword="\n\n# 启动zabbix_server服务\nsystemctl start zabbix-server.service\n\n# 查看zabbix_server是否启动成功\nnetstat -lntp\n\n#开机自启zabbix-server服务\nsystemctl enable zabbix-server.service\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("7、配置PHP\n#cd /etc/httpd/conf.d\n配置时间\n#vim zabbix.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("img",{attrs:{src:e(528),alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("重新启动httpd\n#systemctl restart httpd\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"三、进入zabbix-web界面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、进入zabbix-web界面"}},[s._v("#")]),s._v(" 三、进入zabbix WEB界面")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("8、登陆zabbix网址设置\nlocalhost/zabbix\n\n9、字体显示有问题\n从我们电脑win7里面找到黑体右键复制到桌面然后拉到zabbix服务器上面\n直接修改字体名字\n切换到这个目录下面: /usr/share/zabbix/fonts\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:e(529),alt:"An image"}})]),s._v(" "),n("h2",{attrs:{id:"四、centos6-zabbix-agentd客户端安装部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、centos6-zabbix-agentd客户端安装部署"}},[s._v("#")]),s._v(" 四、centos6 zabbix_agentd客户端安装部署")]),s._v(" "),n("p",[s._v("zabbix_server可以下用源码安装，但是zabbix_agentd推荐使用rpm包安装，因为在实际企业部署zabbix_agentd时，主机数量基本都是成千上万，用rpm包安装比较方便")]),s._v(" "),n("p",[s._v("开始安装zabbix_agentd：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1、下载rpm包\ncd /opt\nwget http://repo.zabbix.com/zabbix/3.0/rhel/6/x86_64/zabbix-agent-3.0.4-1.el6.x86_64.rpm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("2、安装zabbix_agentd\nyum localinstall zabbix-agent-3.0.4-1.el6.x86_64.rpm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("3、修改zabbix_agentd.conf\nvim /etc/zabbix/zabbix_agentd.conf\n\n修改一下几项内容：\nEnableRemoteCommands=1 #允许zabbix服务器远程zabbix_agentd执行命令\nLogRemoteCommands=1 #开启远程执行命令日志\nServer=10.8.9.155 #填写zabbix服务器IP地址\nServerActive=10.8.9.155 #填写zabbix服务器IP地址\nHostname=cloucentos6.0 #填写zabbix_agentd客户端计算机名\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("4、启动zabbix_agentd\n因为我们这里直接安装的rpm包所以在/etc/init.d/目录下生成开机脚本\n直接执行/etc/init.d/zabbix_agentd start 就ok。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("————————————————")]),s._v(" "),n("h2",{attrs:{id:"五、监控原理流程图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五、监控原理流程图"}},[s._v("#")]),s._v(" 五、监控原理流程图")]),s._v(" "),n("p",[n("img",{attrs:{src:e(530),alt:"An image"}})]),s._v(" "),n("p",[s._v("lamp+zabbix")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("部署lamp的全部程序安装方式\nyum install httpdphp php-devel php-mysql mariadb \\\nmariadb-server mariadb-devel -y\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("Valine")],1)}),[],!1,null,null,null);a.default=t.exports}}]);